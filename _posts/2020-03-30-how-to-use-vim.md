---
title:  "vim 사용법"
excerpt: "리눅스에서 vim을 사용하는 법을 정리해 보았다.."

categories:
  - study
tags:
  - linux
  - vim
---

리눅스에서 vim을 사용하면서, vim 사용법을 정리해 보았다.

사실 vim을 사용하는 것은 쉽지 않지만, 충분한 연습이 있다면 능숙하게 사용할 수 있을 것이다. 그렇다면 바로 본론으로 들어가 보자.

## 1. 모드
vim에는 여러 가지 모드가 있는데, 이 모드들을 넘나들며 작업을 하게 된다.

#### 일반 모드 (Normal Mode / Command Mode)
vim [파일이름] 명령어를 통해 처음 에디터에 진입하게 되면 기본적으로 이 모드로 들어가게 되어 있다. 여기서는 입력되는 모든 키가 명령을 수행하게 하는 키가 된다. 

#### 명령줄 모드 (Command Line Mode)
일반 모드에서 `:`(세미콜론) 키나 `/` 키를 입력하면 진입하게 되는 모드로, 여기서도 명령을 입력할 수 있다(일반모드의 명령과는 약간 다름).

#### 편집 모드 (Insert Mode)
문서의 편집을 할 수 있는 모드이다.

#### 비주얼 모드 (Visual Mode)
문자들의 블럭 선택을 할 수 있는 모드이다.


## 2. 일반 모드에서 사용법
#### 모드 전환
여기서 기본적으로는 `i`키를 입력하면 편집 모드, `v`키를 입력하면 비주얼 모드, `:` 키를 입력하면 명령줄 모드로 진입할 수 있다. 물론 해당 모드로 진입하는 다른 방법이 있긴 하지만, 주로 사용하는 키는 저렇다. 

#### 커서 이동
일반 모드에서는 방향키나 `h`, `j`, `k`, `l` 키로도 이동 가능하다. 각각 `h` 키는 왼쪽, `j` 키는 아래, `k` 키는 위, `l` 키는 오른쪽으로 이동한다.

#### 많이 사용되는 명령들
개인적으로 많이 사용하는 명령에 대해 정리해 보았다.

한 줄에 적용되는 명령어 앞에 숫자를 붙이면, 그 숫자의 줄만큼 그 명령이 적용된다. 예를 들어 `4dd`를 입력하면, 4줄이 지워진다.

- `x`: 한 글자 지우기
- `dd`: 한 줄 지우기
- `u`: 마지막 명령 취소
- `Ctrl+r`: redo
- `p`: 마지막으로 삭제한 정보를 커서 다음 위치에 붙여넣음
- `yy`: 한 줄 복사 

#### 편집 모드로 진입
- `i`: 현재 커서에서 편집 모드로 진입
- `a`: 현재 커서 바로 다음 칸에서 편집 모드로 진입
- `o`: 현재 커서 바로 다음 줄에서 편집 모드로 진입
- `O`: 현재 커서 바로 윗줄에서 편집 모드로 진입

#### 비주얼 모드로 진입
- `v`: 한 칸씩 선택되는 비주얼 모드로 진입
- `V`: 한 줄씩 선택되는 비주얼 모드로 진입

#### 그 외 다양한 명령들
앞서 설명했던 명령들 외에도 일반 모드에서 사용할 수 있는 명령어들은 매우 많다!

![]({{ site.url }}{{ site.baseurl }}/assets/images/how-to-use-vim/vim_commands.jpg)

## 3. 명령줄 모드에서 사용법
`:` 키나 `/` 키 입력 후에 명령어를 넣고 Enter 키를 입력하면 명령이 실행된다.

#### `:` 키로 진입했을 경우
- `:w`: 현재 문서 저장
- `:q`: 현재 문서 종료
- `:wq`: 저장하고 종료
- `:(%)s/찾는단어/새단어/(g)(gc)`: 현재 줄에서 찾는 단어를 새 단어로 한 번만 찾아서 변경한다. %를 붙일 시 현재 파일에서 찾는다. g를 입력하면 한 번만 찾는 대신 모두 찾는다. gc를 입력하면 모두 찾되 물어보면서 바꾼다. % 자리에 a,b(a, b에 숫자 입력)를 입력하면 a번째 줄과 b번째 줄 사이에서 실행된다.

#### 그 외 키로 진입한 경우
- `/글자`: 커서 기준 아래쪽으로 글자를 찾는다.
- `?글자`: 커서 기준 위쪽으로 글자를 찾는다.

## 4. 편집 모드에서 사용법
편집 모드에서는 일반 에디터 사용하듯이 글을 입력할 수 있다. 이때 Esc 키를 누르면 일반 모드로 진입할 수 있다.

## 5. 비주얼 모드에서 사용법
방향키로 블럭을 조정할 수 있으며 여기서 복사, 잘라내기, 붙여넣기를 사용하기 유용하다. 블럭을 선택한 후 `y` 키를 입력하면 선택된 블럭 전체 복사가 된다.

`v` 키로 진입 시 한 칸씩 선택이 되고, `V` 키로 진입 시 한 줄씩 선택된다.

## 6. 결론
Vim은 쉽지 않다. 하지만 Vim에 익숙해지기만 한다면, 강력한 에디터라는 것을 느낄 수 있을 것이다. 

## 7. 참고자료
[완전 초보를 위한 Vim](https://nolboo.kim/blog/2016/11/15/vim-for-beginner/)